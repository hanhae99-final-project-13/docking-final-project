package com.sparta.dockingfinalproject.config;

import org.springframework.context.annotation.Configuration;
import org.springframework.http.HttpMethod;
import org.springframework.web.servlet.config.annotation.CorsRegistry;
import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;

@Configuration
public class WebConfig implements WebMvcConfigurer {

  @Override
  public void addCorsMappings(CorsRegistry registry) {

	registry.addMapping("/**")
		.allowedOrigins("http://localhost:3000", "http://getting.co.kr", "https://getting.co.kr", "https://happygetting.com", "http://gettingtest.s3-website.ap-northeast-2.amazonaws.com")
		//클라이언트 로컬 주소임. 클라이언트에서 내 서버의 api에 접근 시 허용에 관한 부분. CORS.
		//2개 이상의 origin에 대해서 허용할 수 있음!
		.allowedMethods(
			"POST", "GET", "PUT", "DELETE","PATCH", "HEAD", "OPTIONS") // 클라이언트에서 요청하는 메소드 어디까지 허용할 것인가.
		.allowCredentials(true);
  }

}